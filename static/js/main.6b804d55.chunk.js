(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){},114:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(12),i=n(37),c=(n(108),n(4)),s=n(5),u=n(7),l=n(6),p=n(8),h=n(85),f=n.n(h),m=(n(110),n(112),n(114),n(86)),d=n.n(m),v=(n(184),n(186),n(188),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.options||["none"];return Array.isArray(e)||(e=["error"],console.error("options is not an array ",e)),r.a.createElement(d.a,{ref:"coinSelect",options:e.map(function(e){return{name:e}}),simpleValue:!0,clearable:!1,className:"transparent-dropdown",name:"select-coin",value:this.props.name,onChange:this.props.onNameChange,searchable:!0,labelKey:"name",valueKey:"name"})}}]),t}(r.a.PureComponent)),y=n(94),E=n(2),g=n.n(E),b=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e){return String(e.date)!==String(this.props.date)}},{key:"componentDidMount",value:function(){document.getElementById("calendar-input").setAttribute("focusable",!1)}},{key:"render",value:function(){return r.a.createElement("div",{className:"margin-auto"},r.a.createElement(y.a,{id:"calendar-input",className:"calendar-input",todayButton:"Pick a date older than today",maxDate:g()().subtract(1,"days"),selected:this.props.date,onChange:this.props.onDateChange,readOnly:!0,dateFormat:"ddd, DD/MM/YYYY"}))}}]),t}(r.a.Component),O=n(88),N=n.n(O),T=n(38),w=6;function C(e){if(0===e)return e.toFixed(0);if(e>=1)return e.toFixed(w);for(var t=0,n=0,a=0;n<5&&0===a;n++)a=Math.floor(e*Math.pow(10,n)),t=n;return e.toFixed(w+t)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"?"+Object.keys(e).map(function(t){return t.charAt(0)+"="+e[t]}).join("&")}var j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=window.location.origin+window.location.pathname+A(this.props.query);return r.a.createElement("div",{className:"copy-button-js "+(this.props.showCopyButton?"active":"")},r.a.createElement("button",{className:"btn copy-button","data-clipboard-text":e},r.a.createElement("img",{src:N.a,alt:"",className:"link-icon"}),"Copy link"))}}]),t}(a.Component),x=n(89),k=n.n(x),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"copy-button exchange-button",onClick:this.props.exchange},r.a.createElement("img",{src:k.a,alt:"",className:"exchange-icon"}))}}]),t}(a.Component);function D(){document.querySelector("body").classList.add("fun");var e=[],t={x:0,y:0},n=function(){this.x=0,this.y=0,this.node=function(){var e=document.createElement("div");return e.className="trail",document.body.appendChild(e),e}()};n.prototype.draw=function(){this.node.style.left=this.x+"px",this.node.style.top=this.y+"px"};for(var a=0;a<12;a++){var r=new n;e.push(r)}window.addEventListener("mousemove",function(e){t.x=e.pageX,t.y=e.pageY}),function n(){!function(){var n=t.x+5,a=t.y+5;e.forEach(function(e,t,r){var o=r[t+1]||r[0];e.x=n,e.y=a,e.draw(),n+=.9*(o.x-e.x)+1+10*(Math.random()-.2),a+=.9*(o.y-e.y)+2*(Math.random()-.5)})}(),requestAnimationFrame(n)}()}var P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){document.querySelector("body").classList.contains("fun")?function(){var e=document.querySelector("body");e.classList.remove("fun"),e.querySelectorAll("div.trail").forEach(function(e){e.parentNode.removeChild(e)})}():D()}},{key:"render",value:function(){return r.a.createElement("footer",{className:"mastfoot mt-auto"},r.a.createElement("div",{className:"inner text-center"},r.a.createElement("p",null,"A"," ",r.a.createElement("span",{className:"like-link",onClick:this.onClick.bind(this)},"Giveth")," ","Social Coding project by"," ",r.a.createElement("a",{href:"https://github.com/dapplion"},"dapplion"),", data from"," ",r.a.createElement("a",{href:"https://www.cryptocompare.com/api/#"},"CryptoCompare"),".")))}}]),t}(a.Component),R=" ",M={name:"Support",href:"https://github.com/dapplion/cryptoFiatExchangeRate/issues/new?title=Replace%20this%20with%20what%20went%20wrong&body=Describe%20here%20what%20happened"},U=function(e){return r.a.createElement("header",{className:"masthead mb-auto"},r.a.createElement("div",{className:"inner"},r.a.createElement("h3",{className:"masthead-brand"},R),r.a.createElement("nav",{className:"nav nav-masthead justify-content-end"},r.a.createElement("a",{href:M.href,className:"nav-link slim-nav-text",style:{fontWeight:300,color:"#ffffff40"}},M.name))))},I=n(90),L=n.n(I),B=n(91),_=n.n(B),G=n(11),H=n.n(G),q=n(21),X=function(e){return new Promise(function(t){return setTimeout(t,e)})};function F(){return(F=Object(q.a)(H.a.mark(function e(t){var n,a,r,o,i,c,s,u,l,p,h,f,m,d,v,y;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},a={},r=Object.values(t),o=0;case 4:if(!(o<r.length)){e.next=39;break}return i=r[o],e.next=8,X(1);case 8:c=Object.keys(i),s=0;case 10:if(!(s<c.length)){e.next=36;break}if(u=c[s],/[^a-z]/i.test(u)){e.next=33;break}for(l=i[u],p=!0,h=!1,f=void 0,e.prev=17,m=l[Symbol.iterator]();!(p=(d=m.next()).done);p=!0)v=d.value,/[^a-z]/i.test(v)||(y=v+"-"+u,n[u+"-"+v]=!0,n[y]=!1,a[u]=!0,a[v]=!0);e.next=25;break;case 21:e.prev=21,e.t0=e.catch(17),h=!0,f=e.t0;case 25:e.prev=25,e.prev=26,p||null==m.return||m.return();case 28:if(e.prev=28,!h){e.next=31;break}throw f;case 31:return e.finish(28);case 32:return e.finish(25);case 33:s++,e.next=10;break;case 36:o++,e.next=4;break;case 39:return e.abrupt("return",{markets:Object.keys(n),leftOptions:Object.keys(a)});case 40:case"end":return e.stop()}},e,this,[[17,21,25,33],[26,,28,32]])}))).apply(this,arguments)}var V=n(31),K=["USD","EUR","KRW","JPY","RUR","GBP","ZAR","CAD","UAH","NGN","CNY","HKD","VEF","PLN","AUD","NZD","SGD","MYR","COP","PEN","AED","INR","SAR"],W=["BTC","ETH","XRP","BCH","EOS","LTC","ADA","XLM","TRX","MIOTA","NEO","XMR","DASH","USDT","XEM","VEN","ETC","BNB","BCN","QTUM","ZEC","OMG","ICX","LSK","ZIL","BTG","DCR","ONT","AE","STEEM","ZRX","XVG","NANO","BTM","SC","STRAT","BTS","PPT","MKR","WAN","WAVES","BCD","REP","RHOC","DOGE","BTCP","GNT","DGB","SNT","WTC","IOST","AION","XIN","HSR","DGD","BAT","LRC","KMD","SKY","NAS","ELF","ARDR","ARK","WICC","LOOM","DCN","CTXC","PIVX","CNX","POLY","BNT","MONA","ELA","SYS","GAS","FSN","RDD","KNC","GXS","CMT","MITH","HT","ETHOS","QASH","MAID","FUN","SUB","XZC","DRGN","STORM","CENNZ","FCT","VERI","NULS","KIN","HOT","ENG","ETN","NXT","RLC"];function Y(e){var t=function(t){return-1!==e.indexOf(t)},n=W.filter(t),a=K.filter(t);return Object(V.a)(new Set([].concat(Object(V.a)(a),Object(V.a)(n),Object(V.a)(e))))}function J(){return(J=Object(q.a)(H.a.mark(function e(){var t,n=arguments;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[],e.next=3,X(1);case 3:return e.abrupt("return",Y(t));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Z(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(q.a)(H.a.mark(function e(t){var n,a,r,o,i,c,s,u,l=arguments;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for((n=l.length>1&&void 0!==l[1]?l[1]:[]).length||console.warn("Markets is not defined"),e.prev=2,a=[],r=n.length,o=0;o<r;o++)i=n[o].split("-"),c=Object(T.a)(i,2),s=c[0],u=c[1],s===t&&a.push(u);return e.abrupt("return",Y(a.sort()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error computing right options from markets: ",n,"Error:",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))).apply(this,arguments)}function z(e){var t=e.left,n=e.right,a=e.timestamp;return fetch("https://min-api.cryptocompare.com/data/dayAvg?fsym="+t+"&tsym="+n+"&toTs="+a+"&extraParams=giveth").then(function(e){return e.json()}).then(function(e){if(e.Response&&"Error"===e.Response)return e.Message&&e.Message.includes("invalid")?{price:1}:{price:"Error"};var t="";return e.ConversionType&&(e.ConversionType.type&&(t+=e.ConversionType.type+" "),e.ConversionType.conversionSymbol&&(t+="through "+e.ConversionType.conversionSymbol)),{price:e[n],type:t}}).catch(function(e){console.error(e)})}function $(){return($=Object(q.a)(H.a.mark(function e(t){var n,a,r,o;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.left,a=t.right,r=t.timestamp,e.next=3,z({left:n,right:a,timestamp:r});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return o=e.t0,console.log("Fetched rate: "+o.price+" "+a+"/"+n+", type: "+o.type+" - timestamp:",r),e.abrupt("return",o.price);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ee=function(e){return{type:"UPDATE_LOADING",loading:e}},te=function(){return function(e,t){e(ee(!0)),fetch("https://min-api.cryptocompare.com/data/all/exchanges").then(function(e){return e.json()}).catch(function(e){console.error(e)}).then(function(n){if(!n)return console.error("Markets is not defined");(function(e){return F.apply(this,arguments)})(n).then(function(n){var a=n.markets,r=n.leftOptions;e(ne(a)),function(){return J.apply(this,arguments)}(r).then(function(n){e(ae(n)),Z(t().query.left,a).then(function(t){e(ee(!1)),t&&e(re(t))})})})})}},ne=function(e){return{type:"UPDATE_MARKETS",markets:e}},ae=function(e){return{type:"UPDATE_LEFT_OPTIONS",leftOptions:e}},re=function(e){return{type:"UPDATE_RIGHT_OPTIONS",rightOptions:e}},oe=function(e){return function(t,n){e||(e=n().query),function(e){return $.apply(this,arguments)}(e).then(function(e){e&&t(function(e){return{type:"UPDATE_PRICE",price:e}}(e))})}};new f.a(".btn");var ie=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchMarkets()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cover-container d-flex h-100 p-3 mx-auto flex-column"},r.a.createElement(U,null),r.a.createElement("main",{role:"main",className:"inner cover"},r.a.createElement("h1",{className:"cover-heading text-center"},"XCHAN",r.a.createElement("img",{src:_.a,alt:"",className:"header-icon"}),"E RATES"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-5"},r.a.createElement("input",{type:"number",className:"form-control transparent-input no-spinners",onChange:function(t){return e.props.updateValue(t.target.value)},value:this.props.leftValue})),r.a.createElement("div",{className:"col-12 col-sm-2 text-center"},r.a.createElement("span",{className:"equal-span"},"=")),r.a.createElement("div",{className:"col-12 col-sm-5"},r.a.createElement("input",{className:"form-control transparent-input no-spinners",readOnly:!0,value:this.props.rightValue}))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12 col-sm-5"},r.a.createElement(v,{name:this.props.leftName,options:this.props.leftOptions,onNameChange:this.props.updateLeftName})),r.a.createElement("div",{className:"col-12 col-sm-2 text-center"},r.a.createElement(S,{exchange:this.props.exchange})),r.a.createElement("div",{className:"col-12 col-sm-5"},r.a.createElement(v,{name:this.props.rightName,options:this.props.rightOptions,onNameChange:this.props.updateRightName}))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col text-center"},r.a.createElement(b,{date:this.props.date,onDateChange:this.props.onDateChange}))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col text-center",style:{height:"100px"}},this.props.loading?r.a.createElement("img",{src:L.a,width:"100",alt:"loader",style:{opacity:this.props.loading?1:0}}):r.a.createElement(j,{showCopyButton:this.props.showCopyButton,query:this.props.query}))))),r.a.createElement(P,null))}}]),t}(r.a.PureComponent),ce=Object(i.b)(function(e){var t,n=e.data.price||"";return t="Error"===n?n:isNaN(n)?"loading...":C(e.query.value*n),{date:g.a.unix(e.query.timestamp),leftValue:e.query.value,rightValue:t,leftName:e.query.left,rightName:e.query.right,leftOptions:e.data.leftOptions,rightOptions:e.data.rightOptions,showCopyButton:e.data.showCopyButton,query:e.query,loading:e.data.loading}},function(e){return{updateValue:function(t){e(function(e){return{type:"UPDATE_VALUE",value:e}}(t))},updateLeftName:function(t){e({type:"UPDATE_LEFT",left:t})},updateRightName:function(t){e({type:"UPDATE_RIGHT",right:t})},fetchMarkets:function(){e(te())},exchange:function(){e(function(e,t){e({type:"EXCHANGE"})})},onDateChange:function(t){console.log("date change",t);var n=t.startOf("date").add(12,"hours").unix();e(function(e){return{type:"UPDATE_TIMESTAMP",timestamp:e}}(n))}}})(ie),se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var le=n(95),pe=n(15),he=n(92),fe=n(9),me=function(){var e={},t=window.location.search.replace("?","").split("&")||[],n=!0,a=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value.split("="),s=Object(T.a)(c,2),u=s[0],l=s[1];u&&l&&("l"===u&&(e.left=l),"r"===u&&(e.right=l),"v"===u&&(e.value=l),"t"===u&&(e.timestamp=l))}}catch(p){a=!0,r=p}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return e}(),de=me.value,ve=me.timestamp,ye=me.left,Ee=me.right,ge=Object(pe.c)({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:!isNaN(de)&&parseInt(de,10)>0?de:1e3,timestamp:ve&&!isNaN(ve)&&g.a.unix(ve)<g()().subtract(1,"days")&&ve>1?ve:g()().subtract(1,"days").unix(),left:ye||"USD",right:Ee||"ETH"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_VALUE":return Object(fe.a)({},e,{value:t.value});case"UPDATE_TIMESTAMP":return Object(fe.a)({},e,{timestamp:t.timestamp});case"UPDATE_LEFT":return Object(fe.a)({},e,{left:t.left});case"UPDATE_RIGHT":return Object(fe.a)({},e,{right:t.right});case"EXCHANGE":var n=e.left,a=e.right;return Object(fe.a)({},e,{right:n,left:a});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{price:1.234,leftOptions:["USD"],rightOptions:["ETH"],markets:[],showCopyButton:!1,loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LOADING":return Object(fe.a)({},e,{loading:t.loading});case"UPDATE_PRICE":return Object(fe.a)({},e,{price:t.price});case"UPDATE_MARKETS":return Object(fe.a)({},e,{markets:t.markets});case"UPDATE_LEFT_OPTIONS":return Object(fe.a)({},e,{leftOptions:t.leftOptions});case"UPDATE_RIGHT_OPTIONS":return Object(fe.a)({},e,{rightOptions:t.rightOptions});case"UPDATE_VALUE":case"UPDATE_TIMESTAMP":case"UPDATE_LEFT":case"UPDATE_RIGHT":case"EXCHANGE":return Object(fe.a)({},e,{showCopyButton:!0});default:return e}}}),be=n(93),Oe=n.n(be)()(),Ne=JSON.stringify({}),Te=JSON.stringify({}),we="",Ce=[he.a,function(e){return function(t){return function(n){var a=t(n),r=e.getState().query,o=(r.value,Object(le.a)(r,["value"])),i=r.left,c=JSON.stringify(r);if(c!==Ne){Ne=c,Oe.push({search:A(r)});var s=JSON.stringify(o);s!==Te&&(Te=s,e.dispatch(oe(o)),i!==we&&(we=i,e.dispatch(function(e,t){return function(n,a){e||(e=a().query.left),t||(t=a().data.markets),Z(e,t).then(function(e){e&&n(re(e))})}}(i))))}return a}}}],Ae=function(e){return e},je=Object(pe.e)(ge,Object(pe.d)(pe.a.apply(void 0,Ce),Ae));Object(o.render)(r.a.createElement(i.a,{store:je},r.a.createElement(ce,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/xchange-rates",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/xchange-rates","/service-worker.js");se?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ue(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ue(e)})}}()},88:function(e,t,n){e.exports=n.p+"static/media/link.f76d6e91.svg"},89:function(e,t,n){e.exports=n.p+"static/media/exchange2.8b2307f4.svg"},90:function(e,t,n){e.exports=n.p+"static/media/loader-dots.0a9ae4b7.gif"},91:function(e,t,n){e.exports=n.p+"static/media/giveth-white-min.a1bdcc9a.png"},96:function(e,t,n){e.exports=n(198)}},[[96,2,1]]]);
//# sourceMappingURL=main.6b804d55.chunk.js.map